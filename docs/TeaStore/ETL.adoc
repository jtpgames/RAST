After performing a load test with TeaStore (see xref:Load_Test.adoc[Load Test]), perform the following to convert kieker log files to command log files:

[NOTE]
In case you have multiple kieker logs from the same day, but want to treat them as separate files, you need to convert them one file at a time. For example, if you want to create prediction and validation data according to xref:../SIGSIM_PADS_2024/README.adoc[our paper at PADS2024], perform the steps below for each file. So you start with the log file for the load intensity profile, convert it and create the database, then remove the log file from the Kieker_ETL project. Repeat for each file, until you have one database for each log file you acquired.

. Download logs (usually a single file with the `.dat` ending) from `http://<teastore-ip>:8081/logs/` (Figs. 1-3)
. Copy the kieker logs to the `TeaStoreLogs`-folder in the `Kieker_ETL` project (create it, if necessary)
. Run `Kieker_ETL`, e.g., by executing `./gradlew run --args='TeaStoreLogs'`.
The resulting `.log` files are created in the same folder as the kieker logs.
. Copy the produced `teastore-cmd_*.log` to the `TeaStoreLogs`-folder to the ML_ETL project (create it, if necessary).
Example: `mv teastore-cmd_2024-05-24.log ../../ML_ETL/TeaStoreLogs/`
. (Optional) Create a python virtual environment and install dependencies:
.. `python3 -m venv venv`
.. `source venv/bin/activate`
.. `pip install -r requirements.txt`
. `cd GS/Logfiles/`
. Convert the command logs using `GSLogConverter.py`, e.g., by executing `python GSLogToLocustConverter.py -d ../../TeaStoreLogs/`.
The converted logs are created in the same directory.
. Store everything in the database using `LogToDbETL.py`, e.g., by executing `python LogToDbETL.py ../../TeaStoreLogs/`.
The resulting database file is an SQLite Database file and is placed in the `db` folder in the `ML_ETL` project.

:imagesdir: Images

.Kieker logs index site
image::Kieker_1.png[]

.Kieker logs directory listing
image::Kieker_2.png[]

.Kieker logs log file
image::Kieker_3.png[]
